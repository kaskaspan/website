.container {
  max-width: 800px;
  margin: 2rem auto;
  background: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  padding: 2rem;
  font-family: "Roboto Mono", "Menlo", "Monaco", "Courier New", monospace;
}

.lesson {
  font-size: 2rem;
  line-height: 1.6;
  letter-spacing: 0.05em;
  color: #6b7280; /* Muted gray for upcoming text */
  user-select: none;
  white-space: pre-wrap;
  word-break: break-word;
}

.char {
  position: relative;
  transition: color 0.1s ease;
}

.correct {
  color: #16a34a; /* Green */
}

.current {
  background-color: #e0f2fe; /* Light sky blue background */
  color: #0284c7; /* Darker blue text */
  border-radius: 4px;
  box-shadow: 0 0 0 1px #38bdf8; /* Blue border ring */
  z-index: 10;
}

.currentError {
  background-color: #fee2e2; /* Light red background */
  color: #dc2626; /* Red text */
  box-shadow: 0 0 0 1px #ef4444; /* Red border ring */
  animation: shake 0.3s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}

@keyframes shake {
  10%, 90% {
    transform: translate3d(-1px, 0, 0);
  }
  20%, 80% {
    transform: translate3d(2px, 0, 0);
  }
  30%, 50%, 70% {
    transform: translate3d(-4px, 0, 0);
  }
  40%, 60% {
    transform: translate3d(4px, 0, 0);
  }
}

/* Book Mode Styles */
.bookMode {
  --bg-primary: #fdf6e3;
  --bg-card: #fdf6e3;
  --color-text: #5f4b32;
  --color-muted: #a69b8d;
  --color-correct: #268bd2;
  --color-error: #dc322f;
  --color-current: #b58900;
  
  font-family: "Georgia", "Times New Roman", serif;
  line-height: 1.8;
}

.bookMode .container {
  background: var(--bg-card);
  box-shadow: 
    0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06),
    inset 20px 0 50px -10px rgba(0, 0, 0, 0.05); /* Spine effect */
  border: 1px solid #e6dcc3;
  max-width: 900px;
  color: var(--color-text);
}

.bookMode .lesson {
  color: var(--color-muted);
  font-size: 1.6rem;
}

.bookMode .correct {
  color: var(--color-correct);
}

.bookMode .current {
  background-color: rgba(181, 137, 0, 0.2);
  color: var(--color-current);
  box-shadow: 0 0 0 1px var(--color-current);
}

.bookMode .currentError {
  background-color: rgba(220, 50, 47, 0.2);
  color: var(--color-error);
  box-shadow: 0 0 0 1px var(--color-error);
}
